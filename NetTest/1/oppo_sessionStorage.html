<!-- saved from url=(0088)http://dhfs.dev.browserproxy.wanyol.com/userfiles/cms/liuhanjun/oppo_sessionStorage.html -->
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <script type="text/javascript">
        var clickNum = 0;

        function calc() {
            var initkey = sessionStorage.getItem("key");
            if (initkey == null)
                document.getElementById("result1").value = "initValue:" + initkey;
            else
                document.getElementById("result1").value = "currentValue:" + initkey
            clickNum++;
            sessionStorage.setItem("key", "click_count:" + clickNum);

            document.getElementById("result2").value = "设置新值：" + sessionStorage.getItem("key");

            if (sessionStorage.clickcount) {
                sessionStorage.clickcount = Number(sessionStorage.clickcount) + 1;
            } else {
                sessionStorage.clickcount = 1;
            }
            document.getElementById("dest").innerHTML = "记录 sessionStorage 被修改的次数 clickcount:" + sessionStorage.clickcount;
        }

        function test() {
            window.open("oppo_sessionStorage.html?newWind=New_Window:");
        }

        function displayNewWind() {
            setTimeout("show()", 100);
        }

        function getParamer(paramer) {
            var url = window.location.href.split("?")[1]; /*获取url里"?"后面的值*/
            if (url.indexOf("&") > 0) { /*判断是否是一个参数还是多个参数*/
                urlParamArry = url.split("&"); /*分开每个参数，并放到数组里*/
                for (var i = 0; i < urlParamArry.length; i++) {
                    var paramerName = urlParamArry[i].split("="); /*把每个参数名和值分开，并放到数组里*/
                    if (paramer == paramerName[0]) { /*匹配输入的参数和数组循环出来的参数是否一样*/
                        return paramerName[1]; /*返回想要的参数值*/
                    }
                }
            } else { /*判断只有个参数*/
                var paramerValue = url.split("=")[1];
                return paramerValue;
            }
        }

        function show() {
            var valueA = getParamer("newWind");
            document.getElementById("newWind").innerHTML = valueA;
        }
    </script>
</head>

<body onload="displayNewWind()">
    <br>
    <br>
    <br>
    <br>
    <div>
        <div id="newWind"></div>
        <p>初始值 或者 当前的值</p>
        <p>sessionStorage get：<input id="result1" type="input" size="40"></p>
        <p>新开页面或者刷新设置新值从1开始</p>
        <p>sessionStorage get：<input id="result2" type="input" size="40"></p>
        <div id="dest">记录 sessionStorage 被修改的次数 clickcount:</div>
    </div>
    <div>
        <br>
        <br>
        <br>
        <br>
        <button onclick="calc()">sessionStorage setItem</button>
        <button onclick="test()">新建窗口，查看sessionStorage:</button>
        <a href="http://10.118.41.140:8080/1/oppo_sessionStorage_1.html?newWind=the_same_Window:" target="_blank" <="" a="">同窗口打开新页面查看sessionStorage特性</a>
        <a href="http://www.baidu.com" <="" a="">打开百度</a>
    </div>


</body>

</html>